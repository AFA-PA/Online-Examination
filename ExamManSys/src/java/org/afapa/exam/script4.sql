CREATE TABLE OPTION (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE QUESTION (ID BIGINT NOT NULL, PRIMARY KEY (ID))
CREATE TABLE USER (ID BIGINT NOT NULL, EMAIL VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), PHONENUMBER VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE DEPARTMENT (ID BIGINT NOT NULL, ORGANIZATION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE ORGANIZATIONALUNIT (ID BIGINT AUTO_INCREMENT NOT NULL, unitType VARCHAR(31), NAME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE EXAMTAKEN (ID BIGINT NOT NULL, EXAM_ID BIGINT, TAKER_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE USERCREDENTIAL (HASHEDPASSWORD VARCHAR(255), USER_ID BIGINT NOT NULL, PRIMARY KEY (USER_ID))
CREATE TABLE EXAM (ID BIGINT NOT NULL, DURATION LONGBLOB, NAME VARCHAR(255), STARTTIME TIME, ORGANIZATION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE ANSWER (ID BIGINT NOT NULL, ANSERDBY_ID BIGINT, ATTEMPT_ID BIGINT, QUESTION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE EXAMTAKEN_ANSWER (ExamTaken_ID BIGINT NOT NULL, answers_ID BIGINT NOT NULL, PRIMARY KEY (ExamTaken_ID, answers_ID))
ALTER TABLE DEPARTMENT ADD CONSTRAINT FK_DEPARTMENT_ORGANIZATION_ID FOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE EXAMTAKEN ADD CONSTRAINT FK_EXAMTAKEN_EXAM_ID FOREIGN KEY (EXAM_ID) REFERENCES EXAM (ID)
ALTER TABLE EXAMTAKEN ADD CONSTRAINT FK_EXAMTAKEN_TAKER_ID FOREIGN KEY (TAKER_ID) REFERENCES USER (ID)
ALTER TABLE USERCREDENTIAL ADD CONSTRAINT FK_USERCREDENTIAL_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID)
ALTER TABLE EXAM ADD CONSTRAINT FK_EXAM_ORGANIZATION_ID FOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE ANSWER ADD CONSTRAINT FK_ANSWER_QUESTION_ID FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION (ID)
ALTER TABLE ANSWER ADD CONSTRAINT FK_ANSWER_ANSERDBY_ID FOREIGN KEY (ANSERDBY_ID) REFERENCES USER (ID)
ALTER TABLE ANSWER ADD CONSTRAINT FK_ANSWER_ATTEMPT_ID FOREIGN KEY (ATTEMPT_ID) REFERENCES OPTION (ID)
ALTER TABLE EXAMTAKEN_ANSWER ADD CONSTRAINT FK_EXAMTAKEN_ANSWER_ExamTaken_ID FOREIGN KEY (ExamTaken_ID) REFERENCES EXAMTAKEN (ID)
ALTER TABLE EXAMTAKEN_ANSWER ADD CONSTRAINT FK_EXAMTAKEN_ANSWER_answers_ID FOREIGN KEY (answers_ID) REFERENCES ANSWER (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
