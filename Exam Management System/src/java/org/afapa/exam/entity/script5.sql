CREATE TABLE ANSWER (ID BIGINT AUTO_INCREMENT NOT NULL, CHOOSED_ID BIGINT, FORQUESTION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE CHOICE (ID BIGINT AUTO_INCREMENT NOT NULL, CHOISE VARCHAR(255), CORRECT TINYINT(1) default 0, QUESTION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE ORGANIZATIONALUNIT (ID BIGINT AUTO_INCREMENT NOT NULL, unitType VARCHAR(3), PRIMARY KEY (ID))
CREATE TABLE COURSE (ID BIGINT NOT NULL, CODE VARCHAR(255), NAME VARCHAR(255), DEPARTMENT_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE DEPARTMENT (ID BIGINT NOT NULL, CREATEDODATE DATE, NAME VARCHAR(255), ORGANIZATION_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE EXAM (ID BIGINT NOT NULL, MINUTESALLOWED INTEGER, NAME VARCHAR(255), STARTTIME DATETIME, COURSE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE EXAMTAKEN (ID BIGINT AUTO_INCREMENT NOT NULL, EXAM_ID BIGINT, TAKER_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE ORGANIZATION (ID BIGINT NOT NULL, CREATEDONDATE DATE, NAME VARCHAR(255), CREATEDBY_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE QUESTION (ID BIGINT AUTO_INCREMENT NOT NULL, QUESTION VARCHAR(255), EXAM_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE USER (ID BIGINT AUTO_INCREMENT NOT NULL, EMAIL VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), PHONENUMBER VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE ADMIN (USER_ID BIGINT NOT NULL, PRIMARY KEY (USER_ID))
CREATE TABLE PRIVILEGE (ID BIGINT AUTO_INCREMENT NOT NULL, PERMISSION INTEGER, GRANTEDON_ID BIGINT, GRANTEDTO_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE TOKEN (EXPIRETIME DATETIME, MODIFIEDAT DATETIME, USER_ID BIGINT NOT NULL, TOKEN VARCHAR(255) NOT NULL, PRIMARY KEY (USER_ID, TOKEN))
CREATE TABLE USERCREDENTIAL (HASHEDPASSWORD VARCHAR(255), USER_ID BIGINT NOT NULL, PRIMARY KEY (USER_ID))
CREATE TABLE ExamManDb.CourseRegistration (id BIGINT AUTO_INCREMENT NOT NULL, semester VARCHAR(255), year INTEGER, COURSE_ID BIGINT, PRIMARY KEY (id))
CREATE TABLE UserRegistration (reg_id BIGINT NOT NULL, PRIMARY KEY (reg_id))
CREATE TABLE EXAMTAKEN_ANSWER (ExamTaken_ID BIGINT NOT NULL, answers_ID BIGINT NOT NULL, PRIMARY KEY (ExamTaken_ID, answers_ID))
CREATE TABLE CourseRegistration_USER (registeredUsers_ID BIGINT NOT NULL, courseRegistrations_id BIGINT NOT NULL, PRIMARY KEY (registeredUsers_ID, courseRegistrations_id))
CREATE TABLE USERCREDENTIAL_TOKEN (UserCredential_USER_ID BIGINT NOT NULL, USER_ID BIGINT NOT NULL, TOKEN VARCHAR(255) NOT NULL, PRIMARY KEY (UserCredential_USER_ID, USER_ID, TOKEN))
ALTER TABLE ANSWER ADD CONSTRAINT FK_ANSWER_FORQUESTION_ID FOREIGN KEY (FORQUESTION_ID) REFERENCES QUESTION (ID)
ALTER TABLE ANSWER ADD CONSTRAINT FK_ANSWER_CHOOSED_ID FOREIGN KEY (CHOOSED_ID) REFERENCES CHOICE (ID)
ALTER TABLE CHOICE ADD CONSTRAINT FK_CHOICE_QUESTION_ID FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION (ID)
ALTER TABLE COURSE ADD CONSTRAINT FK_COURSE_ID FOREIGN KEY (ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE COURSE ADD CONSTRAINT FK_COURSE_DEPARTMENT_ID FOREIGN KEY (DEPARTMENT_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE DEPARTMENT ADD CONSTRAINT FK_DEPARTMENT_ID FOREIGN KEY (ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE DEPARTMENT ADD CONSTRAINT FK_DEPARTMENT_ORGANIZATION_ID FOREIGN KEY (ORGANIZATION_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE EXAM ADD CONSTRAINT FK_EXAM_COURSE_ID FOREIGN KEY (COURSE_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE EXAM ADD CONSTRAINT FK_EXAM_ID FOREIGN KEY (ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE EXAMTAKEN ADD CONSTRAINT FK_EXAMTAKEN_EXAM_ID FOREIGN KEY (EXAM_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE EXAMTAKEN ADD CONSTRAINT FK_EXAMTAKEN_TAKER_ID FOREIGN KEY (TAKER_ID) REFERENCES USER (ID)
ALTER TABLE ORGANIZATION ADD CONSTRAINT FK_ORGANIZATION_CREATEDBY_ID FOREIGN KEY (CREATEDBY_ID) REFERENCES USER (ID)
ALTER TABLE ORGANIZATION ADD CONSTRAINT FK_ORGANIZATION_ID FOREIGN KEY (ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE QUESTION ADD CONSTRAINT FK_QUESTION_EXAM_ID FOREIGN KEY (EXAM_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE ADMIN ADD CONSTRAINT FK_ADMIN_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID)
ALTER TABLE PRIVILEGE ADD CONSTRAINT FK_PRIVILEGE_GRANTEDTO_ID FOREIGN KEY (GRANTEDTO_ID) REFERENCES USER (ID)
ALTER TABLE PRIVILEGE ADD CONSTRAINT FK_PRIVILEGE_GRANTEDON_ID FOREIGN KEY (GRANTEDON_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE TOKEN ADD CONSTRAINT FK_TOKEN_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID)
ALTER TABLE USERCREDENTIAL ADD CONSTRAINT FK_USERCREDENTIAL_USER_ID FOREIGN KEY (USER_ID) REFERENCES USER (ID)
ALTER TABLE ExamManDb.CourseRegistration ADD CONSTRAINT FK_CourseRegistration_COURSE_ID FOREIGN KEY (COURSE_ID) REFERENCES ORGANIZATIONALUNIT (ID)
ALTER TABLE UserRegistration ADD CONSTRAINT FK_UserRegistration_reg_id FOREIGN KEY (reg_id) REFERENCES ExamManDb.CourseRegistration (id)
ALTER TABLE EXAMTAKEN_ANSWER ADD CONSTRAINT FK_EXAMTAKEN_ANSWER_ExamTaken_ID FOREIGN KEY (ExamTaken_ID) REFERENCES EXAMTAKEN (ID)
ALTER TABLE EXAMTAKEN_ANSWER ADD CONSTRAINT FK_EXAMTAKEN_ANSWER_answers_ID FOREIGN KEY (answers_ID) REFERENCES ANSWER (ID)
ALTER TABLE CourseRegistration_USER ADD CONSTRAINT FK_CourseRegistration_USER_registeredUsers_ID FOREIGN KEY (registeredUsers_ID) REFERENCES USER (ID)
ALTER TABLE CourseRegistration_USER ADD CONSTRAINT FK_CourseRegistration_USER_courseRegistrations_id FOREIGN KEY (courseRegistrations_id) REFERENCES ExamManDb.CourseRegistration (id)
ALTER TABLE USERCREDENTIAL_TOKEN ADD CONSTRAINT FK_USERCREDENTIAL_TOKEN_USER_ID FOREIGN KEY (USER_ID, TOKEN) REFERENCES TOKEN (USER_ID, TOKEN)
ALTER TABLE USERCREDENTIAL_TOKEN ADD CONSTRAINT FK_USERCREDENTIAL_TOKEN_UserCredential_USER_ID FOREIGN KEY (UserCredential_USER_ID) REFERENCES USERCREDENTIAL (USER_ID)
